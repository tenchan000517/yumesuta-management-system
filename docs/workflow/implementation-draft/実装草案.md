# å¥‘ç´„æ¥­å‹™ãƒ•ãƒ­ãƒ¼çµ±åˆ - å®Ÿè£…è‰æ¡ˆ

**ä½œæˆæ—¥**: 2025å¹´10æœˆ11æ—¥
**ä½œæˆè€…**: Claude Code
**ç›®çš„**: ãƒ•ã‚§ãƒ¼ã‚º1ãƒ»2ã®èª¿æŸ»çµæœã¨ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’å…ƒã«ã€å®Ÿè£…æ–¹é‡ã‚’æ˜ç¢ºåŒ–ã™ã‚‹

---

## ğŸ¯ å®Ÿè£…æ–¹é‡ã®æ±ºå®šäº‹é …

### 1. UIå½¢å¼: ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ + Notioné¢¨ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«

**æ¡ç”¨ç†ç”±**:
- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ•´åˆæ€§ã‚’ä¿ã¡ã¤ã¤ã€è¦–è¦šçš„ãªé€²æ—ç®¡ç†ãŒå¯èƒ½
- 13ã‚¹ãƒ†ãƒƒãƒ—å…¨ä½“ã‚’ä¸€è¦§ã§æŠŠæ¡ã§ãã‚‹
- è©³ç´°æƒ…å ±ã¯ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã§å±•é–‹ã—ã€ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ã‚’åœ§è¿«ã—ãªã„

### 2. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“å‹ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

**æ¡ç”¨ç†ç”±**:
- å¸¸ã«é€²æ—çŠ¶æ³ã‚’ç¢ºèªå¯èƒ½
- ä¸»è¦ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼ˆâ‘ â‘¢â‘¦â‘¨â‘¬ï¼‰ã‚’è¦–è¦šçš„ã«è¡¨ç¾
- åŠé€æ˜èƒŒæ™¯ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¦¨ã’ãªã„

### 3. ãƒ‡ãƒ¼ã‚¿ç®¡ç†: é™çš„ãƒ‡ãƒ¼ã‚¿ + Google Sheetsé€£å‹•ï¼ˆèª­ã¿å–ã‚Šã®ã¿ï¼‰

**Phase 1ã®æ–¹é‡**:
- 13ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°æƒ…å ±ã¯é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†
- å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚Šè¡¨ç¤º
- é€²æ—çŠ¶æ…‹ã¯LocalStorageã§ä¿å­˜

---

## ğŸ¨ UIè¨­è¨ˆè©³ç´°

### å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆå›ºå®šãƒ»åŠé€æ˜ãƒ»ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“ï¼‰              â”‚
â”‚ â—â”â”â”â—â”â”â”â—â”â”â”â—‹â”â”â”â—‹                                          â”‚
â”‚ â‘  æƒ…å ± â‘¢ å¥‘ç´„ â‘¦ å®Œäº† â‘¨ å…¥é‡‘ â‘¬ æ²è¼‰                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æˆ»ã‚‹ãƒœã‚¿ãƒ³                                   æ›´æ–°ãƒœã‚¿ãƒ³       â”‚
â”‚                                                              â”‚
â”‚ ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹æ¥­å‹™ãƒ•ãƒ­ãƒ¼ > å¥‘ç´„æ¥­å‹™ãƒ•ãƒ­ãƒ¼                     â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ï¼ˆãƒ•ãƒ«å¹…ï¼‰                                        â”‚
â”‚                                                              â”‚
â”‚ ğŸ“Š 5ã‚«ãƒ©ãƒ ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ âœ…  â”‚ â”‚ âœ…  â”‚ â”‚ âœ…  â”‚ â”‚ ğŸ”µ  â”‚ â”‚ â¬œ  â”‚              â”‚
â”‚ â”‚ â‘   â”‚ â”‚ â‘¡  â”‚ â”‚ â‘¢  â”‚ â”‚ â‘£  â”‚ â”‚ â‘¤  â”‚              â”‚
â”‚ â”‚æƒ…å ± â”‚ â”‚å¥‘ç´„ â”‚ â”‚æŠ¼å° â”‚ â”‚ç”³è¾¼ â”‚ â”‚æŠ¼å° â”‚              â”‚
â”‚ â”‚åé›† â”‚ â”‚æ›¸ä½œæˆâ”‚ â”‚é€ä¿¡ â”‚ â”‚æ›¸ä½œæˆâ”‚ â”‚é€ä¿¡ â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚              â”‚
â”‚ â”‚ â‘¥  â”‚ â”‚ â‘¦  â”‚ â”‚ â‘§  â”‚ â”‚ â‘¨  â”‚ â”‚ â‘©  â”‚              â”‚
â”‚ â”‚é‡è¦ â”‚ â”‚å¥‘ç´„ â”‚ â”‚è«‹æ±‚ â”‚ â”‚å…¥é‡‘ â”‚ â”‚å…¥é‡‘ â”‚              â”‚
â”‚ â”‚èª¬æ˜ â”‚ â”‚å®Œäº† â”‚ â”‚æ›¸  â”‚ â”‚ç¢ºèª â”‚ â”‚æ›´æ–° â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                                â”‚
â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚ â”‚ â¬œ  â”‚                                â”‚
â”‚ â”‚ â‘ª  â”‚ â”‚ â‘«  â”‚ â”‚ â‘¬  â”‚                                â”‚
â”‚ â”‚åŸç¨¿ â”‚ â”‚åˆ¶ä½œ â”‚ â”‚æ²è¼‰ â”‚                                â”‚
â”‚ â”‚ä¾é ¼ â”‚ â”‚æ ¡æ­£ â”‚ â”‚    â”‚                                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                              â”‚
â”‚ ğŸ“Š ä¸‹éƒ¨: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£å‹•ã‚¨ãƒªã‚¢                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚ å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†       â”‚ â”‚ Google Drive       â”‚             â”‚
â”‚ â”‚ ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºï¼‰     â”‚ â”‚ ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ä¸€è¦§     â”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯æ™‚: ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ãŒå³ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ï¼ˆæš—è»¢ï¼‰          â”‚ ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«               â”‚
â”‚ ï¼ˆèƒŒæ™¯: bg-black/30ï¼‰         â”‚ ï¼ˆå³ã‹ã‚‰300msã§ã‚¹ãƒ©ã‚¤ãƒ‰ï¼‰  â”‚
â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                              â”‚ â”‚ ğŸ”µ â‘£ ç”³è¾¼æ›¸ä½œæˆ     â”‚ â”‚
â”‚                              â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ ã€æ¦‚è¦ã€‘            â”‚ â”‚
â”‚                              â”‚ â”‚ åŸæœ¬ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦... â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ ã€ã‚„ã‚‹ã“ã¨ã€‘        â”‚ â”‚
â”‚                              â”‚ â”‚ â˜‘ ãƒšãƒ¼ã‚¸1: ç”³è¾¼æ›¸  â”‚ â”‚
â”‚                              â”‚ â”‚ â˜‘ ç”³è¾¼æ—¥ã‚’å…¥åŠ›      â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã€‘    â”‚ â”‚
â”‚                              â”‚ â”‚ ç”³è¾¼æ—¥: [input] [æ›´æ–°]â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã€‘  â”‚ â”‚
â”‚                              â”‚ â”‚ â–¡ æŠ¼å°ä½ç½®ã¯æ­£ã—ã„ã‹â”‚ â”‚
â”‚                              â”‚ â”‚ â–¡ é¡§å®¢æƒ…å ±ã¯æ­£ã—ã„ã‹â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ ã€ã‚¬ã‚¤ãƒ‰ã€‘          â”‚ â”‚
â”‚                              â”‚ â”‚ [ğŸ“„ åŸæœ¬ã‚’é–‹ã]    â”‚ â”‚
â”‚                              â”‚ â”‚ [ğŸ“§ ãƒ¡ãƒ¼ãƒ«ã‚³ãƒ”ãƒ¼]  â”‚ â”‚
â”‚                              â”‚ â”‚                     â”‚ â”‚
â”‚                              â”‚ â”‚ [é–‰ã˜ã‚‹]  [æ›´æ–°]    â”‚ â”‚
â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `app/dashboard/workflow/contract/page.tsx`

**ä¸»è¦State**:
```tsx
const [selectedStep, setSelectedStep] = useState<number | null>(null);
const [stepStatuses, setStepStatuses] = useState<Record<number, StepStatus>>({});
const [contractData, setContractData] = useState<ContractData[]>([]);
const [driveFiles, setDriveFiles] = useState<DriveFile[]>([]);
const [loading, setLoading] = useState(false);
```

---

### 1. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆ`components/workflow/ProgressBar.tsx`ï¼‰

**Props**:
```tsx
interface ProgressBarProps {
  milestones: Milestone[];  // â‘ â‘¢â‘¦â‘¨â‘¬
  currentStep: number;
  completedSteps: number[];
}
```

**å®Ÿè£…**:
```tsx
<div className="sticky top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-200 py-4 px-8 transition-all">
  <div className="max-w-7xl mx-auto">
    <div className="flex items-center justify-between">
      {milestones.map((milestone, index) => (
        <React.Fragment key={milestone.stepNumber}>
          <div className="flex items-center gap-2">
            <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${
              completedSteps.includes(milestone.stepNumber)
                ? 'bg-green-500 text-white'
                : currentStep === milestone.stepNumber
                ? 'bg-blue-500 text-white'
                : 'bg-gray-300 text-gray-600'
            }`}>
              {completedSteps.includes(milestone.stepNumber) ? 'âœ“' : milestone.stepNumber}
            </div>
            <span className="text-xs font-semibold text-gray-700 hidden md:block">
              {milestone.label}
            </span>
          </div>
          {index < milestones.length - 1 && (
            <div className={`flex-1 h-1 mx-2 ${
              completedSteps.includes(milestone.stepNumber)
                ? 'bg-green-500'
                : 'bg-gray-300'
            }`} />
          )}
        </React.Fragment>
      ))}
    </div>
  </div>
</div>
```

---

### 2. ã‚¹ãƒ†ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ï¼ˆ`components/workflow/StepCard.tsx`ï¼‰

**Props**:
```tsx
interface StepCardProps {
  step: WorkflowStep;
  status: StepStatus;
  onClick: () => void;
}
```

**å®Ÿè£…**:
```tsx
<div
  onClick={onClick}
  className={`rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all border-2 ${
    status === 'completed'
      ? 'bg-green-50 border-green-200'
      : status === 'in_progress'
      ? 'bg-blue-50 border-blue-500'
      : 'bg-gray-50 border-gray-200'
  }`}
>
  <div className="flex items-center gap-2 mb-2">
    {status === 'completed' ? (
      <CheckCircle2 className="w-6 h-6 text-green-600" />
    ) : status === 'in_progress' ? (
      <Circle className="w-6 h-6 text-blue-600 fill-blue-600" />
    ) : (
      <Circle className="w-6 h-6 text-gray-400" />
    )}
    <span className={`text-xs font-bold ${
      status === 'completed' ? 'text-green-600' :
      status === 'in_progress' ? 'text-blue-600' :
      'text-gray-500'
    }`}>
      {status === 'completed' ? 'å®Œäº†' : status === 'in_progress' ? 'é€²è¡Œä¸­' : 'æœªç€æ‰‹'}
    </span>
  </div>
  <h3 className={`text-sm font-bold ${
    status === 'pending' ? 'text-gray-700' : 'text-gray-900'
  }`}>
    {step.stepNumber}. {step.title}
  </h3>
</div>
```

---

### 3. ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ï¼ˆ`components/workflow/SidePanel.tsx`ï¼‰

**Props**:
```tsx
interface SidePanelProps {
  step: WorkflowStep | null;
  isOpen: boolean;
  onClose: () => void;
  onUpdate: (stepNumber: number) => void;
}
```

**å®Ÿè£…**:
```tsx
// èƒŒæ™¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
{isOpen && (
  <div
    className="fixed inset-0 bg-black/30 z-40 transition-opacity"
    onClick={onClose}
  />
)}

// ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«
<div className={`
  fixed top-0 right-0 h-full w-full md:w-2/5 md:max-w-2xl
  bg-white shadow-2xl z-50
  transform transition-transform duration-300 ease-in-out
  overflow-y-auto
  ${isOpen ? 'translate-x-0' : 'translate-x-full'}
`}>
  {step && (
    <div className="p-8">
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="flex items-center justify-between mb-6">
        <div className="flex items-center gap-3">
          <div className="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold">
            {step.stepNumber}
          </div>
          <h2 className="text-2xl font-bold text-gray-900">{step.title}</h2>
        </div>
        <button
          onClick={onClose}
          className="p-2 hover:bg-gray-100 rounded-lg transition-colors"
        >
          <X className="w-6 h-6" />
        </button>
      </div>

      {/* æ¦‚è¦ */}
      <div className="mb-6 p-4 bg-blue-50 rounded-lg">
        <p className="text-sm text-gray-700">{step.overview}</p>
      </div>

      {/* ã‚„ã‚‹ã“ã¨ãƒªã‚¹ãƒˆ */}
      <section className="mb-6">
        <h3 className="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
          <ListTodo className="w-5 h-5 text-blue-600" />
          ã€ã‚„ã‚‹ã“ã¨ã€‘
        </h3>
        <ol className="space-y-2 text-sm text-gray-700 list-decimal list-inside">
          {step.actions.map((action, idx) => (
            <li key={idx} dangerouslySetInnerHTML={{ __html: action }} />
          ))}
        </ol>
      </section>

      {/* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆPhase 2ã§å®Ÿè£…ï¼‰ */}
      {step.inputFields && (
        <section className="mb-6">
          <h3 className="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
            <Edit className="w-5 h-5 text-blue-600" />
            ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã€‘
          </h3>
          <div className="space-y-3">
            {/* ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
          </div>
        </section>
      )}

      {/* ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ */}
      <section className="mb-6">
        <h3 className="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
          <CheckSquare className="w-5 h-5 text-blue-600" />
          ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã€‘
        </h3>
        <div className="space-y-2">
          {step.checklist.map((item) => (
            <label key={item.id} className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors">
              <input
                type="checkbox"
                checked={item.checked}
                onChange={() => handleChecklistToggle(item.id)}
                className="w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"
              />
              <span className="text-sm text-gray-700">{item.text}</span>
            </label>
          ))}
        </div>
      </section>

      {/* ã‚¬ã‚¤ãƒ‰ãƒœã‚¿ãƒ³ */}
      <section className="mb-6">
        <h3 className="text-lg font-bold text-gray-900 mb-3 flex items-center gap-2">
          <Lightbulb className="w-5 h-5 text-blue-600" />
          ã€ã‚¬ã‚¤ãƒ‰ã€‘
        </h3>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
          {step.guides.map((guide) => (
            <button
              key={guide.id}
              onClick={() => handleGuideClick(guide)}
              className={`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-colors ${
                guide.type === 'modal'
                  ? 'bg-green-100 text-green-800 hover:bg-green-200'
                  : 'bg-purple-100 text-purple-800 hover:bg-purple-200'
              }`}
            >
              {guide.icon === 'ğŸ“§' && <Mail className="w-5 h-5" />}
              {guide.icon === 'ğŸ“„' && <FileText className="w-5 h-5" />}
              {guide.icon === 'ğŸ”—' && <Link className="w-5 h-5" />}
              <span className="text-sm">{guide.label}</span>
            </button>
          ))}
        </div>
      </section>

      {/* æ³¨æ„äº‹é … */}
      {step.notes && step.notes.length > 0 && (
        <section className="mb-6">
          <div className="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
            <h3 className="text-sm font-bold text-yellow-800 mb-2 flex items-center gap-2">
              <AlertTriangle className="w-5 h-5" />
              æ³¨æ„äº‹é …
            </h3>
            <ul className="space-y-1 text-sm text-yellow-700">
              {step.notes.map((note, idx) => (
                <li key={idx}>{note}</li>
              ))}
            </ul>
          </div>
        </section>
      )}

      {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
      <div className="sticky bottom-0 bg-white border-t pt-4 mt-8 -mx-8 px-8 pb-8">
        <div className="flex gap-3">
          <button
            onClick={onClose}
            className="flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium"
          >
            é–‰ã˜ã‚‹
          </button>
          <button
            onClick={() => onUpdate(step.stepNumber)}
            className="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"
          >
            æ›´æ–°
          </button>
        </div>
      </div>
    </div>
  )}
</div>
```

---

### 4. ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆ`components/workflow/EmailModal.tsx`ï¼‰

**Props**:
```tsx
interface EmailModalProps {
  email: EmailTemplate | null;
  isOpen: boolean;
  onClose: () => void;
}
```

**å®Ÿè£…**:
```tsx
{isOpen && email && (
  <div className="fixed inset-0 bg-black/50 z-60 flex items-center justify-center p-4">
    <div className="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden">
      <div className="p-6 border-b">
        <div className="flex items-center justify-between">
          <h3 className="text-xl font-bold text-gray-900">ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡</h3>
          <button onClick={onClose} className="p-2 hover:bg-gray-100 rounded-lg">
            <X className="w-6 h-6" />
          </button>
        </div>
      </div>
      <div className="p-6 overflow-y-auto max-h-[60vh]">
        <div className="mb-4">
          <label className="text-sm font-semibold text-gray-700 mb-1 block">ä»¶å:</label>
          <p className="text-sm text-gray-900 p-3 bg-gray-50 rounded">{email.subject}</p>
        </div>
        <div>
          <label className="text-sm font-semibold text-gray-700 mb-1 block">æœ¬æ–‡:</label>
          <pre className="text-sm text-gray-900 p-4 bg-gray-50 rounded whitespace-pre-wrap font-sans">
            {email.body}
          </pre>
        </div>
      </div>
      <div className="p-6 border-t flex gap-3">
        <button
          onClick={onClose}
          className="flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50"
        >
          é–‰ã˜ã‚‹
        </button>
        <button
          onClick={() => {
            navigator.clipboard.writeText(`ä»¶å: ${email.subject}\n\n${email.body}`);
            alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
          }}
          className="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2"
        >
          <Copy className="w-5 h-5" />
          ã‚³ãƒ”ãƒ¼
        </button>
      </div>
    </div>
  </div>
)}
```

---

### 5. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£å‹•ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ`components/workflow/ContractTable.tsx`ï¼‰

**Props**:
```tsx
interface ContractTableProps {
  contracts: ContractData[];
  loading: boolean;
}
```

**å®Ÿè£…**:
```tsx
<div className="bg-white rounded-lg shadow p-6">
  <h3 className="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
    <Table className="w-5 h-5 text-blue-600" />
    å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†
  </h3>
  {loading ? (
    <div className="animate-pulse space-y-2">
      {[1, 2, 3].map(i => (
        <div key={i} className="h-12 bg-gray-200 rounded"></div>
      ))}
    </div>
  ) : (
    <div className="overflow-x-auto">
      <table className="min-w-full divide-y divide-gray-200">
        <thead>
          <tr className="bg-gray-50">
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">ä¼æ¥­å</th>
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">å¥‘ç´„æ—¥</th>
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">å¥‘ç´„é‡‘é¡</th>
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">å…¥é‡‘äºˆå®šæ—¥</th>
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">å…¥é‡‘å®Ÿç¸¾æ—¥</th>
            <th className="px-4 py-3 text-left text-xs font-semibold text-gray-700">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
          </tr>
        </thead>
        <tbody className="divide-y divide-gray-200">
          {contracts.map((contract) => (
            <tr key={contract.id} className="hover:bg-gray-50">
              <td className="px-4 py-3 text-sm text-gray-900">{contract.companyName}</td>
              <td className="px-4 py-3 text-sm text-gray-600">{contract.contractDate}</td>
              <td className="px-4 py-3 text-sm text-gray-900 font-semibold">{contract.amount}</td>
              <td className="px-4 py-3 text-sm text-gray-600">{contract.paymentDueDate}</td>
              <td className="px-4 py-3 text-sm text-gray-600">{contract.paymentActualDate || '-'}</td>
              <td className="px-4 py-3">
                <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${
                  contract.paymentStatus === 'å…¥é‡‘æ¸ˆ'
                    ? 'bg-green-100 text-green-800'
                    : 'bg-yellow-100 text-yellow-800'
                }`}>
                  {contract.paymentStatus}
                </span>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  )}
</div>
```

---

### 6. Google Driveãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ï¼ˆ`components/workflow/DriveFilesList.tsx`ï¼‰

**Props**:
```tsx
interface DriveFilesListProps {
  files: DriveFile[];
  loading: boolean;
}
```

**å®Ÿè£…**:
```tsx
<div className="bg-white rounded-lg shadow p-6">
  <h3 className="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
    <FolderOpen className="w-5 h-5 text-blue-600" />
    Google Drive ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹
  </h3>
  {loading ? (
    <div className="animate-pulse space-y-2">
      {[1, 2, 3].map(i => (
        <div key={i} className="h-10 bg-gray-200 rounded"></div>
      ))}
    </div>
  ) : files.length === 0 ? (
    <p className="text-sm text-gray-500">ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“</p>
  ) : (
    <div className="space-y-2">
      {files.map((file) => (
        <a
          key={file.id}
          href={file.webViewLink}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"
        >
          <FileText className="w-5 h-5 text-blue-600" />
          <span className="text-sm text-gray-900">{file.name}</span>
          <ExternalLink className="w-4 h-4 text-gray-400 ml-auto" />
        </a>
      ))}
    </div>
  )}
</div>
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 1. ãƒšãƒ¼ã‚¸ãƒã‚¦ãƒ³ãƒˆæ™‚

```
ãƒšãƒ¼ã‚¸ãƒã‚¦ãƒ³ãƒˆ
  â†“
useEffectå®Ÿè¡Œ
  â†“
Promise.all([
  fetch('/api/contract/list'),      // å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ãƒ‡ãƒ¼ã‚¿å–å¾—
  fetch('/api/drive/files'),         // Driveãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—ï¼ˆPhase 2ï¼‰
])
  â†“
ãƒ‡ãƒ¼ã‚¿æ•´å½¢ãƒ»Stateæ›´æ–°
  â†“
LocalStorageã‹ã‚‰é€²æ—çŠ¶æ…‹ã‚’å¾©å…ƒ
  â†“
ç”»é¢è¡¨ç¤º
```

### 2. ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯æ™‚

```
ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
  â†“
setSelectedStep(stepNumber)
  â†“
ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«å±•é–‹ï¼ˆ300msã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
  â†“
ã‚¹ãƒ†ãƒƒãƒ—è©³ç´°è¡¨ç¤º
```

### 3. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ›´æ–°æ™‚

```
ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒƒã‚¯
  â†“
Stateæ›´æ–°
  â†“
LocalStorageã«ä¿å­˜
  {
    workflow_contract_state: {
      stepStatuses: { 1: 'completed', 4: 'in_progress', ... },
      checklists: { 's1-c1': true, 's1-c2': false, ... }
    }
  }
```

### 4. æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚

```
æ›´æ–°ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
  â†“
setLoading(true)
  â†“
Promise.all([
  fetch('/api/contract/list'),
  fetch('/api/drive/files'),
])
  â†“
ãƒ‡ãƒ¼ã‚¿æ•´å½¢ãƒ»Stateæ›´æ–°
  â†“
setLoading(false)
  â†“
æœ€çµ‚æ›´æ–°æ™‚åˆ»ã‚’è¡¨ç¤º
```

---

## ğŸ—‚ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
/app/dashboard/workflow/contract/
  â””â”€ page.tsx                          # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸

/components/workflow/
  â”œâ”€ ProgressBar.tsx                   # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
  â”œâ”€ StepCard.tsx                      # ã‚¹ãƒ†ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰
  â”œâ”€ SidePanel.tsx                     # ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«
  â”œâ”€ EmailModal.tsx                    # ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒ¢ãƒ¼ãƒ€ãƒ«
  â”œâ”€ ContractTable.tsx                 # å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
  â””â”€ DriveFilesList.tsx                # Driveãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

/types/
  â””â”€ workflow.ts                       # æ¥­å‹™ãƒ•ãƒ­ãƒ¼é–¢é€£ã®å‹å®šç¾©

/data/
  â”œâ”€ contract-workflow.ts              # 13ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°ãƒ‡ãƒ¼ã‚¿
  â””â”€ email-templates.ts                # ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒ‡ãƒ¼ã‚¿

/lib/
  â””â”€ workflow-storage.ts               # LocalStorageç®¡ç†
```

---

## ğŸ”§ å‹å®šç¾©

### types/workflow.ts

```typescript
export type StepStatus = 'pending' | 'in_progress' | 'completed';

export interface ChecklistItem {
  id: string;
  text: string;
  checked: boolean;
}

export interface GuideLink {
  id: string;
  label: string;
  type: 'modal' | 'external' | 'internal';
  target?: string;
  icon?: string;
}

export interface EmailTemplate {
  id: string;
  subject: string;
  body: string;
}

export interface WorkflowStep {
  stepNumber: number;
  title: string;
  overview: string;
  status: StepStatus;
  actions: string[];
  checklist: ChecklistItem[];
  guides: GuideLink[];
  inputFields?: InputField[];  // Phase 2ã§å®Ÿè£…
  sourceUrl?: string;
  emailTemplate?: EmailTemplate;
  notes?: string[];
}

export interface Milestone {
  stepNumber: number;
  label: string;
}

export interface ContractData {
  id: number;
  companyName: string;
  contractService: string;
  contractDate: string;
  amount: string;
  paymentMethod: string;
  contractSentDate?: string;
  contractReceivedDate?: string;
  applicationSentDate?: string;
  applicationReceivedDate?: string;
  paymentDueDate: string;
  paymentActualDate?: string;
  paymentStatus: string;
  delayDays?: number;
  publicationIssue: string;
  notes?: string;
}

export interface DriveFile {
  id: string;
  name: string;
  mimeType: string;
  webViewLink: string;
  createdTime: string;
}

export interface WorkflowState {
  stepStatuses: Record<number, StepStatus>;
  checklists: Record<string, boolean>;
}
```

---

## ğŸ“ é™çš„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«

### data/contract-workflow.ts

```typescript
import { WorkflowStep } from '@/types/workflow';

export const contractWorkflowSteps: WorkflowStep[] = [
  {
    stepNumber: 1,
    title: 'æƒ…å ±åé›†',
    overview: 'é¡§å®¢ã«æƒ…å ±åé›†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é€ä¿¡ã—ã€å¥‘ç´„ã«å¿…è¦ãªæƒ…å ±ã‚’åé›†ã—ã¾ã™ã€‚',
    status: 'pending',
    actions: [
      'é¡§å®¢ã«ã€Œå¥‘ç´„æ›¸ä½œæˆ_æƒ…å ±åé›†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚’é€ä¿¡',
      'è¨˜å…¥ã—ã¦ã‚‚ã‚‰ã†'
    ],
    checklist: [
      { id: 's1-c1', text: 'ä¼æ¥­åã¯æ­£å¼åç§°ã‹', checked: false },
      { id: 's1-c2', text: 'ä½æ‰€ã¯ã€Œç•ªåœ°ã€ã€Œå·ã€ã¾ã§è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false },
      { id: 's1-c3', text: 'ä»£è¡¨è€…å½¹è·ãŒè¨˜å…¥ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false },
      { id: 's1-c4', text: 'æ”¯æ‰•æœŸé™ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false }
    ],
    guides: [
      {
        id: 's1-g1',
        label: 'æƒ…å ±åé›†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ',
        type: 'internal',
        target: '/mnt/c/ã‚†ã‚ã‚¹ã‚¿ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/active/å¥‘ç´„æ›¸ä½œæˆ_æƒ…å ±åé›†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ.md',
        icon: 'ğŸ“‹'
      }
    ]
  },
  {
    stepNumber: 2,
    title: 'åŸºæœ¬å¥‘ç´„æ›¸ä½œæˆ',
    overview: 'Google Docsã®åŸæœ¬ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€é¡§å®¢æƒ…å ±ã‚’å…¥åŠ›ã—åŸºæœ¬å¥‘ç´„æ›¸ã‚’ä½œæˆã—ã¾ã™ã€‚',
    status: 'pending',
    actions: [
      'åŸæœ¬ã‚’ã‚³ãƒ”ãƒ¼',
      'å†’é ­ã®ä¼æ¥­åã‚’ä¿®æ­£',
      'ä¸‹éƒ¨ã®é¡§å®¢æƒ…å ±ï¼ˆä½æ‰€ã€ä»£è¡¨è€…åã€å¥‘ç´„ç· çµæ—¥ï¼‰ã‚’æ›´æ–°'
    ],
    checklist: [
      { id: 's2-c1', text: 'ä¼æ¥­åãŒæ­£ã—ãä¿®æ­£ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false },
      { id: 's2-c2', text: 'ä½æ‰€ãŒæ­£ã—ãå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false },
      { id: 's2-c3', text: 'ä»£è¡¨è€…åãŒæ­£ã—ãå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹', checked: false },
      { id: 's2-c4', text: 'å¥‘ç´„ç· çµæ—¥ãŒæ­£ã—ã„ã‹', checked: false }
    ],
    guides: [
      {
        id: 's2-g1',
        label: 'åŸæœ¬ã‚’é–‹ã',
        type: 'external',
        target: 'https://docs.google.com/document/d/1B_GK3cknmtgGgpKVjKUerOOgQ7RgQcwwdLMBy12gBDo/edit?tab=t.0',
        icon: 'ğŸ”—'
      }
    ],
    sourceUrl: 'https://docs.google.com/document/d/1B_GK3cknmtgGgpKVjKUerOOgQ7RgQcwwdLMBy12gBDo/edit?tab=t.0',
    notes: [
      'åŸæœ¬ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆã—ã¦ãã ã•ã„',
      'ã€ç”²ã®ä¼šç¤¾åãƒ»å›£ä½“åã€‘ç­‰ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’ç½®æ›ã—ã¦ãã ã•ã„'
    ]
  },
  // ... æ®‹ã‚Š11ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®šç¾©
];

export const milestones: Milestone[] = [
  { stepNumber: 1, label: 'æƒ…å ±' },
  { stepNumber: 3, label: 'å¥‘ç´„' },
  { stepNumber: 7, label: 'å®Œäº†' },
  { stepNumber: 9, label: 'å…¥é‡‘' },
  { stepNumber: 13, label: 'æ²è¼‰' }
];
```

### data/email-templates.ts

```typescript
import { EmailTemplate } from '@/types/workflow';

export const emailTemplates: Record<string, EmailTemplate> = {
  'å¥‘ç´„æ›¸é€ä¿¡å®Œäº†ãƒ¡ãƒ¼ãƒ«': {
    id: 'contract-send-complete',
    subject: 'ã€é‡è¦ã€‘å¥‘ç´„æ›¸é¡2ç‚¹ã®ã”ç¢ºèªã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™',
    body: `ã€‡ã€‡æ§˜

ã„ã¤ã‚‚ãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™ã€‚
æ ªå¼ä¼šç¤¾ã‚†ã‚ã‚¹ã‚¿ã®é£¯ç”°ã§ã”ã–ã„ã¾ã™ã€‚

ã“ã®åº¦ã¯ã€å¼Šç¤¾ã€Œã‚†ã‚ã‚¹ã‚¿ãƒã‚¬ã‚¸ãƒ³ã€ã¸ã®åºƒå‘Šæ²è¼‰ã«
ãŠç”³ã—è¾¼ã¿ã„ãŸã ãã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€å¥‘ç´„æ›¸é¡ã®ã”ç¢ºèªã«ã¤ã„ã¦ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã‚ˆã‚Šã€ä»¥ä¸‹2ç‚¹ã®å¥‘ç´„æ›¸é¡ã‚’
ãŠé€ã‚Šã„ãŸã—ã¾ã—ãŸã®ã§ã€ã”ç¢ºèªã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚

â‘ ã€Œåºƒå‘Šæ²è¼‰åŸºæœ¬å¥‘ç´„æ›¸ã€
â‘¡ã€Œåºƒå‘Šæ²è¼‰ç”³è¾¼æ›¸å…¼å€‹åˆ¥å¥‘ç´„æ›¸ã€

â€»ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰ã®ãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ã¦ãŠã‚Šã¾ã™ã®ã§ã€
ã€€ãã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‹ã‚‰æ›¸é¡ã‚’ã”ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚

...

æ ªå¼ä¼šç¤¾ã‚†ã‚ã‚¹ã‚¿
é£¯ç”°æ€é 
TEL: 090-4264-9939
Email: info@yumesuta.com`
  },

  'å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«': {
    id: 'payment-confirm',
    subject: 'å…¥é‡‘ç¢ºèªã®ã”é€£çµ¡ãƒ»åŸç¨¿æƒ…å ±ã®ã”æå‡ºã«ã¤ã„ã¦',
    body: `ã€‡ã€‡æ§˜

ãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™ã€‚
æ ªå¼ä¼šç¤¾ã‚†ã‚ã‚¹ã‚¿ã®é£¯ç”°ã§ã™ã€‚

ã“ã®åº¦ã¯ã€ã”å…¥é‡‘ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚
å…¥é‡‘ã‚’ç¢ºèªã„ãŸã—ã¾ã—ãŸã®ã§ã€ã”é€£çµ¡ç”³ã—ä¸Šã’ã¾ã™ã€‚

...`
  }
};
```

---

## ğŸš€ Phase 1ï¼ˆMVPï¼‰å®Ÿè£…ç¯„å›²

### âœ… å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½

#### **ãƒšãƒ¼ã‚¸æ§‹é€ **
- `app/dashboard/workflow/contract/page.tsx` ã®ä½œæˆ
- ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆ`app/page.tsx`ï¼‰ã«ã€Œãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã€ã‚¿ãƒ–è¿½åŠ 

#### **UIæ©Ÿèƒ½**
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“ãƒ»åŠé€æ˜èƒŒæ™¯ï¼‰
- 5ã‚«ãƒ©ãƒ ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼‰
- Notioné¢¨ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ï¼ˆå³ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ï¼‰
- ã‚«ãƒ¼ãƒ‰ã®çŠ¶æ…‹åˆ¥ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå®Œäº†ãƒ»é€²è¡Œä¸­ãƒ»æœªç€æ‰‹ï¼‰

#### **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½**
- ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«å±•é–‹
- ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ©Ÿèƒ½ï¼ˆLocalStorageä¿å­˜ï¼‰
- ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºï¼‹ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
- å¤–éƒ¨ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³ï¼ˆåŸæœ¬URLã€ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ç­‰ï¼‰
- æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³

#### **ãƒ‡ãƒ¼ã‚¿é€£å‹•ï¼ˆèª­ã¿å–ã‚Šã®ã¿ï¼‰**
- å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»è¡¨ç¤º
- ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§ã®ä¸€è¦§è¡¨ç¤º

#### **é™çš„ãƒ‡ãƒ¼ã‚¿**
- 13ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°æƒ…å ±ï¼ˆ`/data/contract-workflow.ts`ï¼‰
- ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ï¼ˆ`/data/email-templates.ts`ï¼‰
- LocalStorageã§ã®é€²æ—çŠ¶æ…‹ä¿å­˜

### âŒ Phase 2ä»¥é™ã«å»¶æœŸ

- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¸ã®æ›¸ãè¾¼ã¿ï¼ˆæ—¥ä»˜è¨˜éŒ²ç­‰ï¼‰
- Google Driveã¸ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- Google Driveãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã®å–å¾—ãƒ»è¡¨ç¤º
- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°
- è‡ªå‹•ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½
- è¤‡æ•°å¥‘ç´„ã®åŒæ™‚ç®¡ç†

---

## ğŸ” ãƒ•ã‚§ãƒ¼ã‚º4ã§è¿½åŠ èª¿æŸ»ãŒå¿…è¦ãªé …ç›®

å®Ÿè£…è‰æ¡ˆãŒç¢ºå®šã—ãŸã®ã§ã€ãƒ•ã‚§ãƒ¼ã‚º4ã§ä»¥ä¸‹ã‚’è©³ç´°èª¿æŸ»ã—ã¾ã™:

### 1. æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚¬ã‚¤ãƒ‰ã®è©³ç´°

**èª¿æŸ»å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**:
- `/mnt/c/ã‚†ã‚ã‚¹ã‚¿ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/active/å¥‘ç´„æ›¸ä½œæˆ_æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚¬ã‚¤ãƒ‰.md`
- `/mnt/c/ã‚†ã‚ã‚¹ã‚¿ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/active/å¥‘ç´„æ›¸ãƒªãƒ¼ã‚¬ãƒ«ãƒã‚§ãƒƒã‚¯_ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ.md`
- `/mnt/c/ã‚†ã‚ã‚¹ã‚¿ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/active/å¥‘ç´„æ›¸ä½œæˆ_æƒ…å ±åé›†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ.md`

**èª¿æŸ»å†…å®¹**:
- 13ã‚¹ãƒ†ãƒƒãƒ—ã®æ­£ç¢ºãªæ‰‹é †
- å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã€Œã‚„ã‚‹ã“ã¨ã€ãƒªã‚¹ãƒˆ
- ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆé …ç›®
- ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ã®å…¨æ–‡
- æ³¨æ„äº‹é …

**ç›®çš„**: é™çš„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`data/contract-workflow.ts`ã€`data/email-templates.ts`ï¼‰ã‚’æ­£ç¢ºã«ä½œæˆã™ã‚‹ãŸã‚

---

### 2. å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆã®å…¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

**èª¿æŸ»å¯¾è±¡**:
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID: `13PzSnGekGxDWX7B1_TwczNibR6j_JxDb3UuquPX1GyQ`
- ã‚·ãƒ¼ãƒˆå: `å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†`

**èª¿æŸ»å†…å®¹**:
- ç¾åœ¨ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆã™ã¹ã¦ã®è¡Œï¼‰
- ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ï¼ˆæ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€é‡‘é¡ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç­‰ï¼‰
- ç©ºæ¬„ã®æ‰±ã„æ–¹
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³

**ç›®çš„**: APIå®Ÿè£…æ™‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ­£ç¢ºã«è¨­è¨ˆã™ã‚‹ãŸã‚

---

### 3. Google Drive API ã®å®Ÿè£…æ–¹æ³•ï¼ˆPhase 2æº–å‚™ï¼‰

**èª¿æŸ»å¯¾è±¡**:
- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã§ã®Drive APIä½¿ç”¨çŠ¶æ³
- `lib/google-drive.ts` ã®æœ‰ç„¡ã¨å®Ÿè£…å†…å®¹
- OAuthèªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹APIï¼ˆ`/api/auth/status`ï¼‰ã®è©³ç´°

**èª¿æŸ»å†…å®¹**:
- Drive APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åˆæœŸåŒ–æ–¹æ³•
- ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆPhase 2ã§å¿…è¦ï¼‰

**ç›®çš„**: Phase 2ã§ã®Driveé€£å‹•å®Ÿè£…ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã†ãŸã‚

---

## ğŸ“ å®Ÿè£…å„ªå…ˆé †ä½

### Phase 1-1: åŸºæœ¬UIå®Ÿè£…ï¼ˆæœ€å„ªå…ˆï¼‰
1. ãƒšãƒ¼ã‚¸ä½œæˆï¼ˆ`app/dashboard/workflow/contract/page.tsx`ï¼‰
2. ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ã®ã‚¿ãƒ–è¿½åŠ 
3. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
4. ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
5. ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### Phase 1-2: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè£…
1. ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯â†’ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«å±•é–‹
2. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ©Ÿèƒ½ï¼ˆLocalStorageï¼‰
3. ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒ¢ãƒ¼ãƒ€ãƒ«
4. ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½

### Phase 1-3: ãƒ‡ãƒ¼ã‚¿é€£å‹•å®Ÿè£…
1. APIä½œæˆï¼ˆ`/api/contract/list`ï¼‰
2. å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿å–å¾—
3. ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
4. æ‰‹å‹•æ›´æ–°æ©Ÿèƒ½

### Phase 1-4: é™çš„ãƒ‡ãƒ¼ã‚¿æ•´å‚™
1. ãƒ•ã‚§ãƒ¼ã‚º4ã®è©³ç´°èª¿æŸ»å®Ÿæ–½
2. `data/contract-workflow.ts` ã®å®Œæˆ
3. `data/email-templates.ts` ã®å®Œæˆ

---

## âœ… å®Œäº†æ¡ä»¶

Phase 1ãŒå®Œäº†ã—ãŸã¨åˆ¤æ–­ã™ã‚‹æ¡ä»¶:

- [ ] ã€Œãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã€ã‚¿ãƒ–ãŒãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å¥‘ç´„æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãƒšãƒ¼ã‚¸ã«é·ç§»ã§ãã‚‹
- [ ] ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“ã™ã‚‹
- [ ] 13ã‚¹ãƒ†ãƒƒãƒ—ãŒã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ãŒå³ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³
- [ ] ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã«å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã§ãã€LocalStorageã«ä¿å­˜ã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãƒœã‚¿ãƒ³ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‹ã
- [ ] ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã§ãƒ¡ãƒ¼ãƒ«ä¾‹æ–‡ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
- [ ] å¤–éƒ¨ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³ã§åŸæœ¬URLãŒé–‹ã
- [ ] å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãŒãƒ†ãƒ¼ãƒ–ãƒ«ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ãŒå†å–å¾—ã•ã‚Œã‚‹
- [ ] æ—¢å­˜ã®6æ©Ÿèƒ½ã¨åŒã˜ãƒ‡ã‚¶ã‚¤ãƒ³ã§çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ11æ—¥
**ä½œæˆè€…**: Claude Code
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: ãƒ•ã‚§ãƒ¼ã‚º4 - è©³ç´°ãƒ‡ãƒ¼ã‚¿è¿½åŠ èª¿æŸ»

ä»¥ä¸Š
