# 契約業務フロー統合 - 開発フロー

**作成日**: 2025年10月11日
**作成者**: システム開発マネージャー
**目的**: 契約業務フロー統合の開発フェーズと作業手順の明確化

---

## 🎯 現在の進捗状況

**現在のフェーズ**: フェーズ1 - 既存システム調査
**ステータス**: 準備完了（これから開始）
**最終更新日**: 2025年10月11日
**担当者**: Claude Code

### 進捗サマリー
- ✅ 事務側要件定義受領
- ✅ システム側要望・方針ドキュメント作成
- ✅ 開発フロードキュメント作成
- ⏳ フェーズ1開始準備中

---

## 📋 開発フェーズ概要

| フェーズ | タイトル | ステータス | 完了日 |
|---------|---------|----------|--------|
| フェーズ1 | 既存システム調査 | ⏳ 準備完了 | - |
| フェーズ2 | アクティブデータ調査 | ⬜ 未着手 | - |
| フェーズ3 | 実装草案ディスカッション | ⬜ 未着手 | - |
| フェーズ4 | 詳細データ追加調査 | ⬜ 未着手 | - |
| フェーズ5 | 完全実装計画書作成 | ⬜ 未着手 | - |
| フェーズ6 | 実装 | ⬜ 未着手 | - |

---

## 🔍 フェーズ1: 既存システム調査

**ステータス**: ⏳ 準備完了（これから開始）

### 目的
既存システムの設計思想、UI/UX、技術仕様を事実ベースで把握する

### 調査対象と進捗

#### 1. Google Drive API
- ⬜ Drive API の実装方法
- ⬜ 使用されているメソッド
- ⬜ ファイル/フォルダ操作の実装パターン

#### 2. Google Sheets lib
- ⬜ `lib/google-sheets.ts` の調査
- ⬜ 使用されているメソッド
- ⬜ データ取得・解析の実装パターン

#### 3. ゆめマガ制作進捗ダッシュボード
- **対象ディレクトリ**: `app/dashboard/yumemaga-v2/`
- ⬜ UI/UX構造
- ⬜ データフロー
- ⬜ コンポーネント設計

#### 4. 営業進捗管理ダッシュボード
- **対象ディレクトリ**: `app/dashboard/sales/`
- ⬜ UI/UX構造
- ⬜ データフロー
- ⬜ コンポーネント設計

#### 5. メインダッシュボード
- **対象ファイル**: `app/page.tsx`
- ⬜ ダッシュボード構成
- ⬜ ナビゲーション設計
- ⬜ レイアウト設計

#### 6. ドキュメント
- ⬜ 各種START-PROMPT
- ⬜ progress-tracker
- ⬜ 進捗系ドキュメント（10/9以降に作成されたもの）
- ⬜ 最新のプロセス把握

### 調査時の注意事項
- **使用されていないAPIは記載しない**：メインダッシュボードと2つのダッシュボードで使用されていないAPIは勝手に記載しない（混乱防止のため）
- **事実のみを記載**：先入観や仮説を排除
- **文脈を保持**：実装されている内容をそのまま記録

### 成果物（サマリー作成）

#### 1. UI思想ドキュメント
**ファイル名**: `docs/workflow/system-survey/UI思想サマリー.md`
- ⬜ 既存ダッシュボードのUI設計思想
- ⬜ レイアウトパターン
- ⬜ 視覚的デザイン規則

#### 2. UX思想ドキュメント
**ファイル名**: `docs/workflow/system-survey/UX思想サマリー.md`
- ⬜ ユーザーインタラクションパターン
- ⬜ データ更新フロー（手動更新ボタンなど）
- ⬜ ナビゲーション設計

#### 3. API仕様書
**ファイル名**: `docs/workflow/system-survey/API仕様書.md`
- ⬜ **重要**: 今回該当するメインダッシュボードと2つのダッシュボードで使用されているAPIのみ記載
- ⬜ 使用されていないAPIは記載しない
- ⬜ Google Sheets API の使用方法
- ⬜ Google Drive API の使用方法（もし使用されていれば）

#### 4. 技術仕様書
**ファイル名**: `docs/workflow/system-survey/技術仕様書.md`
- ⬜ ディレクトリ構造
- ⬜ コンポーネント設計
- ⬜ lib設計
- ⬜ 型定義パターン
- ⬜ データフローパターン

### 完了条件
- ✅ 4つのサマリードキュメントが作成されている
- ✅ APIの仕様を深く理解している
- ✅ 既存システムの設計思想を把握している

### 完了日
未完了

---

## 📊 フェーズ2: アクティブデータ調査

**ステータス**: ⬜ 未着手

### 目的
実際に稼働中のGoogle SheetsとGoogle Driveの構造を把握する

### 前提条件
- ✅ フェーズ1でAPIの調査が完了していること
- ✅ APIを深く理解していること

### 調査内容と進捗

#### 1. サーバーの立ち上げ
- ⬜ 開発サーバーを起動
- ⬜ APIエンドポイントの動作確認

#### 2. アクティブなGoogle Spreadsheetsの調査

**調査対象**:
- ⬜ 営業予実管理シート
- ⬜ 月次管理シート
- ⬜ KPIダッシュボード

**調査項目**:
- ⬜ すべてのシートを把握する
- ⬜ すべての入っている情報と項目を把握する
- ⬜ ヘッダー構造
- ⬜ データ形式
- ⬜ データの種類
- ⬜ システムとの連動方法
- ⬜ 操作対象なのか、取得対象なのか

#### 3. Google Driveの調査

**調査対象**:
- エビデンス保存用ドライブ（https://drive.google.com/drive/folders/1blH8qUUd_TLW_nznN5wozwn-vXGFMZ3q）

**調査項目**:
- ⬜ フォルダ構造
- ⬜ 権限設定
- ⬜ 命名規則（もし既存ファイルがあれば）

### 注意事項
- **全データの調査は不要**
- **全てのシートを把握する**ことに徹する
- **すべての入っている情報と項目を把握する**ことに徹する
- 詳細なデータ内容の調査はフェーズ4で実施

### 成果物
**ファイル名**: `docs/workflow/active-data-survey/`
- ⬜ アクティブスプレッドシート調査レポート.md
- ⬜ Google Drive構造調査レポート.md

### 完了条件
- ✅ 2つの調査レポートが作成されている
- ✅ すべてのシートとその構造を把握している

### 完了日
未完了

---

## 💡 フェーズ3: 実装草案ディスカッション

**ステータス**: ⬜ 未着手

### 目的
フェーズ1とフェーズ2の調査結果を元に、実装の方向性を決定する

### 前提条件
- ✅ フェーズ1とフェーズ2が完了していること

### 実施内容
- ⬜ 仮でどのようなものを作成するかの草案をディスカッションしながら考える
- ⬜ ある程度固まったら草案を保存

### 成果物
**ファイル名**: `docs/workflow/implementation-draft/実装草案.md`
- ⬜ 実装草案ドキュメント

### 完了条件
- ✅ 実装草案が策定されている
- ✅ 必要な調査項目が特定されている

### 完了日
未完了

---

## 🔬 フェーズ4: 詳細データ追加調査

**ステータス**: ⬜ 未着手

### 目的
実装草案に基づき、必要な情報を詳細レベルで調査する

### 前提条件
- ✅ フェーズ3で実装草案が策定されていること

### 調査内容と進捗

#### 1. 関連するスプレッドシートの全情報レベル調査
- ⬜ フェーズ3で特定した必要なシートの詳細調査
- ⬜ 全データの構造
- ⬜ 全カラムの詳細
- ⬜ データの関連性

#### 2. Google Driveの追加調査
- ⬜ 必要なフォルダ構造の詳細
- ⬜ ファイル命名規則の策定
- ⬜ 権限設定の詳細

### 成果物
**ファイル名**: `docs/workflow/detailed-survey/`
- ⬜ スプレッドシート詳細調査レポート.md
- ⬜ Google Drive詳細調査レポート.md

### 完了条件
- ✅ 詳細調査レポートが作成されている
- ✅ 実装に必要な全データ構造を把握している

### 完了日
未完了

---

## 📐 フェーズ5: 完全実装計画書作成

**ステータス**: ⬜ 未着手

### 目的
実装に必要な全ての情報を統合し、完全な実装計画を策定する

### 前提条件
- ✅ フェーズ1〜4が完了していること

### 参照ドキュメント
1. ⬜ 契約業務フロー統合_要件定義書（事務側）
2. ⬜ 契約業務フロー統合_システム側要望・方針
3. ⬜ システム調査サマリー（フェーズ1の4つのドキュメント）
4. ⬜ アクティブデータ調査レポート（フェーズ2）
5. ⬜ 実装草案ドキュメント（フェーズ3）
6. ⬜ 詳細調査レポート（フェーズ4）

### 作成内容
- ⬜ システム側の完全な実装計画書
- ⬜ 実装スケジュール
- ⬜ 技術仕様
- ⬜ データフロー設計
- ⬜ UI/UX設計
- ⬜ API設計
- ⬜ コンポーネント設計

### 成果物
**ファイル名**: `docs/workflow/契約業務フロー統合_完全実装計画書.md`
- ⬜ 契約業務フロー統合_完全実装計画書

### 完了条件
- ✅ 完全実装計画書が作成されている
- ✅ 実装に必要な全ての設計が完了している

### 完了日
未完了

---

## 🚀 フェーズ6: 実装

**ステータス**: ⬜ 未着手

### 目的
フェーズ5の完全実装計画書に基づき、実装を実施する

### 前提条件
- ✅ フェーズ5で完全実装計画書が作成されていること

### 実施内容
- ⬜ 完全実装計画書に従った実装
- ⬜ テスト
- ⬜ デバッグ
- ⬜ ドキュメント更新

### 成果物
- ⬜ 契約業務フロー統合機能（完成版）
- ⬜ 実装完了報告書

### 完了条件
- ✅ 機能が実装され、動作確認が完了している
- ✅ テストが完了している
- ✅ ドキュメントが更新されている

### 完了日
未完了

---

## 📝 全体の注意事項

### ドキュメント作成時の厳守事項
- **事実のみを記載**：先入観や主観を一切混入させない
- **仮説の排除**：予測や憶測を記載しない
- **文脈の保持**：調査した内容をそのままの文脈で保存

### フェーズ移行の条件
- 各フェーズの成果物が完成していること
- 必要な情報が揃っていること
- 次フェーズの前提条件を満たしていること

---

**作成日**: 2025年10月11日
**最終更新**: 2025年10月11日

以上
