# SNS投稿管理スプレッドシート設計書

**作成日**: 2025-10-05
**バージョン**: 1.0
**ステータス**: 設計完了

---

## 📋 概要

Instagram・X（Twitter）の複数アカウント（公式 + 被リンク作成用）の投稿スケジュール・投稿履歴を管理するためのGoogle Sheetsスプレッドシート設計書。

---

## 🎯 目的

- SNS投稿の計画的な運用管理
- 投稿の抜け漏れ防止
- 過去の投稿エンゲージメント分析
- 複数アカウントの一元管理

---

## 📊 スプレッドシート構造

### シート1: 投稿履歴

**シート名**: `投稿履歴`

**用途**: 過去に投稿したSNS投稿の記録とエンゲージメントデータの管理

**列構成**:

| 列 | 項目名 | データ型 | 説明 | 例 |
|----|--------|----------|------|-----|
| A | 投稿日時 | 日時 | 投稿した日時 | 2025-10-01 10:00 |
| B | SNS種類 | 文字列 | Instagram / X | Instagram |
| C | アカウント名 | 文字列 | 公式 / 被リンク1 / 被リンク2 等 | 公式 |
| D | 投稿内容 | 文字列 | 投稿テキスト（改行可） | 【高卒採用】〇〇企業のスター紹介！... |
| E | 画像URL | URL | 投稿画像のURL（複数の場合はカンマ区切り） | https://example.com/image1.jpg |
| F | リンクURL | URL | 投稿に含まれるリンクURL | https://yumesuta.com/partners/xxx |
| G | いいね数 | 数値 | いいね数（手動入力） | 120 |
| H | RT数/コメント数 | 数値 | Xの場合RT数、Instagramの場合コメント数（手動入力） | 15 |
| I | 備考 | 文字列 | その他メモ | 企業紹介キャンペーン投稿 |

**サンプルデータ（3件）**:

```
投稿日時             SNS種類    アカウント名  投稿内容                                                     画像URL                          リンクURL                              いいね数  RT数/コメント数  備考
2025-10-01 10:00    Instagram  公式         【高卒採用】〇〇株式会社のスター紹介！...                    https://example.com/star1.jpg    https://yumesuta.com/stars/001        120      15            スター紹介投稿
2025-10-01 14:00    X          被リンク1    ゆめスタ最新号配布開始！高校生のキャリアを応援...             https://example.com/yumemaga.jpg https://yumesuta.com                  45       8             ゆめマガ配布告知
2025-10-02 09:00    Instagram  公式         【企業紹介】△△企業の魅力を紹介！...                        https://example.com/partner1.jpg https://yumesuta.com/partners/002     98       12            パートナー企業紹介
```

---

### シート2: 投稿予定

**シート名**: `投稿予定`

**用途**: 今後のSNS投稿スケジュール管理と未投稿アラート

**列構成**:

| 列 | 項目名 | データ型 | 説明 | 例 |
|----|--------|----------|------|-----|
| A | 投稿予定日時 | 日時 | 投稿予定の日時 | 2025-10-05 10:00 |
| B | SNS種類 | 文字列 | Instagram / X | Instagram |
| C | アカウント名 | 文字列 | 公式 / 被リンク1 / 被リンク2 等 | 公式 |
| D | 投稿予定内容 | 文字列 | 投稿予定のテキスト（改行可） | 【高卒採用】◇◇企業のスター紹介！... |
| E | ステータス | 文字列 | 予定 / 完了 / 期限切れ | 予定 |
| F | 備考 | 文字列 | その他メモ | 画像準備待ち |

**サンプルデータ（5件）**:

```
投稿予定日時          SNS種類    アカウント名  投稿予定内容                                                 ステータス  備考
2025-10-05 10:00    Instagram  公式         【高卒採用】◇◇企業のスター紹介！...                        予定       画像準備完了
2025-10-05 14:00    X          被リンク1    ゆめマガ11月号の特集記事を紹介！...                         予定       リンク確認済み
2025-10-06 09:00    Instagram  公式         【企業紹介】□□企業の魅力を紹介！...                        予定       画像準備待ち
2025-10-07 10:00    X          公式         高卒採用の最新トレンドを解説！...                           予定       記事執筆中
2025-10-01 10:00    Instagram  被リンク2    【イベント告知】ゆめスタイベント開催！...                   期限切れ   投稿忘れ
```

---

## 🔧 作成手順

### 1. Google Sheetsで新規スプレッドシート作成

1. Google Sheetsにアクセス: https://sheets.google.com
2. 新規スプレッドシートを作成
3. スプレッドシート名を `SNS投稿管理` に変更

### 2. シート1作成: 投稿履歴

1. シート名を `投稿履歴` に変更
2. 1行目にヘッダーを入力:
   - A1: `投稿日時`
   - B1: `SNS種類`
   - C1: `アカウント名`
   - D1: `投稿内容`
   - E1: `画像URL`
   - F1: `リンクURL`
   - G1: `いいね数`
   - H1: `RT数/コメント数`
   - I1: `備考`
3. 2行目以降にサンプルデータを入力（上記サンプルデータ参照）

### 3. シート2作成: 投稿予定

1. 新しいシートを追加
2. シート名を `投稿予定` に変更
3. 1行目にヘッダーを入力:
   - A1: `投稿予定日時`
   - B1: `SNS種類`
   - C1: `アカウント名`
   - D1: `投稿予定内容`
   - E1: `ステータス`
   - F1: `備考`
4. 2行目以降にサンプルデータを入力（上記サンプルデータ参照）

### 4. サービスアカウントに共有権限を付与

1. スプレッドシートの「共有」ボタンをクリック
2. サービスアカウントのメールアドレスを追加:
   - `yumesuta-management-sys@fair-yew-446514-q5.iam.gserviceaccount.com`
3. 権限を「閲覧者」に設定
4. 「送信」をクリック

### 5. スプレッドシートIDを控える

スプレッドシートのURLから、スプレッドシートIDを控える:
- URL例: `https://docs.google.com/spreadsheets/d/【スプレッドシートID】/edit`
- スプレッドシートID: `1234567890abcdefghijklmnopqrstuvwxyz`（この部分をコピー）

---

## 🎯 データ入力ルール

### SNS種類

- `Instagram` または `X` のいずれか
- 大文字・小文字は統一すること

### アカウント名

- `公式`: yumesuta公式アカウント
- `被リンク1`: 被リンク作成用アカウント1
- `被リンク2`: 被リンク作成用アカウント2
- 追加のアカウントがある場合は `被リンク3`, `被リンク4` と命名

### ステータス（投稿予定シートのみ）

- `予定`: 投稿予定（未投稿）
- `完了`: 投稿済み
- `期限切れ`: 投稿予定日時を過ぎたが未投稿

### 日時形式

- `YYYY-MM-DD HH:MM` 形式（例: `2025-10-05 10:00`）
- Google Sheetsの日時セル形式を使用

---

## 📊 データ管理フロー

### 投稿予定 → 投稿履歴への移行

投稿完了後、以下の手順でデータを移行:

1. 投稿予定シートの該当行をコピー
2. 投稿履歴シートに新しい行を追加
3. 投稿日時を実際の投稿日時に変更
4. 画像URL・リンクURLを追加
5. エンゲージメントデータ（いいね数・RT数等）を後日入力
6. 投稿予定シートの該当行のステータスを「完了」に変更

---

## 🔍 システム連携仕様

### API連携方式

- **API**: Google Sheets API v4
- **認証**: サービスアカウント（JSON key）
- **同期方式**: 手動更新（ボタンクリック時にAPI呼び出し）
- **読み取り範囲**:
  - 投稿履歴: `投稿履歴!A1:I1000`
  - 投稿予定: `投稿予定!A1:F1000`

### 期限切れ判定ロジック

投稿予定シートの「ステータス」列で以下を判定:

- **期限切れ**: 投稿予定日時 < 現在日時 かつ ステータス = "予定"
- **未投稿アラート**: 期限切れの件数を表示

---

## 📝 注意事項

### MVP範囲

- ❌ SNS API連携による自動投稿は範囲外
- ❌ エンゲージメントデータの自動取得は範囲外
- ✅ スプレッドシートでの手動データ入力・管理
- ✅ ダッシュボードでの読み取り専用表示

### Phase 2以降の拡張

- Instagram Graph API連携による自動投稿
- X API連携による自動投稿
- エンゲージメントデータの自動取得
- 投稿スケジューリング機能

---

## ✅ 作成完了チェックリスト

- [ ] Google Sheetsで新規スプレッドシート作成
- [ ] スプレッドシート名を「SNS投稿管理」に変更
- [ ] シート1「投稿履歴」作成・ヘッダー入力
- [ ] シート1にサンプルデータ3件入力
- [ ] シート2「投稿予定」作成・ヘッダー入力
- [ ] シート2にサンプルデータ5件入力
- [ ] サービスアカウントに閲覧権限を付与
- [ ] スプレッドシートIDを控える
- [ ] `.env.local` に `SNS_SPREADSHEET_ID` を追加

---

**作成者**: Claude Code (2025-10-05)
**次のステップ**: ユーザーがスプレッドシートを作成後、スプレッドシートIDを取得
