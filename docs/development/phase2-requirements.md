# Phase 2 要件定義・方針書

**作成日**: 2025-10-05
**ステータス**: Phase 2開発前の要件整理
**前提**: Phase 1 MVP完成済み

---

## 📌 最も重要な目的

**「マネージャーが一人で大企業クラスの仕事・プロジェクトを管理・実行できる管理システム」を構築すること**

---

## ❌ 絶対にやってはいけないこと

### 無駄な機能追加による複雑化の禁止

- **良かれと思って無駄な機能を追加して複雑にする事**
  - 例：リアルタイム性の導入 ← これ本質的に不要
  - 超絶簡単に導入できるなら良いが、WebhookやWebsocket、AWSなどの導入が必要な場合、本質からズレる

---

## ⚠️ 自動化は解決策ではない

### 自動化よりも重要なのは「把握スピード・作業に入るまでのスピード」

効率化の本質は以下：
- 該当CANVAURLがすぐに出てくる
- 該当スプレッドシートがすぐ出てくる
- 該当作業パスがすぐに出てくる
- 該当関連URLがすぐに出てくる
- 該当情報がすぐに出てくる
- 該当箇所がすぐにわかる

**重要**: 無駄に自動化しようとしてむしろ把握に時間がかかる方が効率化の阻害

---

## 🎯 最も重要な思考プロセス

### 「ゆめスタの仕事を完全に理解すること」

**マネージャー（ユーザー）の仕事を全て完全に理解すること**

これが最も重要です。

---

## 📊 各機能の本質的な目的

### 1. 入金管理
- **目的**: キャッシュアウトしないため
- **本質**: 入金してるかしてないかがわかればいいわけじゃない

### 2. ゆめマガ制作進捗把握
- **目的**: 納期を間に合わせ、クオリティの高い制作物を作成すること

### 3. HP・LLMO状況把握
- **目的**: 狙ったキーワードで上位表示させたり、狙ったAI検索に表示して「お問い合わせなどのプル営業」を増やす事・取得すること

### 4. 営業進捗把握
- **目的**: 営業のPDCAを回す指示を出すため

### 5. タスク管理
- **目的**: 管理だけでなく、マネージャー自身が行わなければならないタスクを行うため
- **範囲**: 営業が行う作業以外の全ての作業はマネージャーが行う
  - 請求書の発行などもこれに含まれる
  - ※マネーフォワードとの連携も視野に入れる
- **重要性**: 顧客管理も重要

### 6. SNS投稿管理
- **目的**: 以下の2つの側面を把握しつつ自分でも作業するために必要
  1. 被リンクの獲得
  2. 公式SNSのブランディング

---

## 🔧 Phase 2 具体的な開発要件

### 1. パートナー・スターダッシュボード改善

**現状**:
- Google Sheetsと連動

**変更要件**:
- yumesutaHPにパートナーのデータベースが存在 → これと連動したい

**調査事項**:
- yumesutaHPのデータベース構造
- API連携方法
- データ同期方法

---

### 2. タスク管理の実装

**現状**:
- モックデータ

**課題**:
- 全体を見渡すと自ずとどういうタスクが存在するかわかる

**対応**:
- 実際のタスクを反映する
- マネージャーが行う全ての作業をタスクとして管理
  - 営業が行う作業以外の全ての作業
  - 請求書の発行
  - 顧客管理
  - ゆめマガ制作関連タスク
  - HP更新タスク
  - SNS投稿タスク

**連携検討**:
- マネーフォワードとの連携（請求書発行等）

---

### 3. ゆめマガ進行中工程の改善

**現状**:
- とりあえずの感じになってる

**対応**:
- より実態に即したものにする
- 進行中工程の詳細表示
- 次に何をすべきかが即座にわかる

---

## 🎯 全体的な課題と方針

### 課題
- やることが多いと全てのタスク・プロジェクトが抜けもれしがち

### 方針
- **抜けもれせず**、かつ**システムの技術的複雑度が増さない程度に連動**することで効率を上げる

### 効率化の指針
1. **把握スピード** - 情報が即座に見つかる
2. **作業着手スピード** - 該当URL・パス・ファイルがすぐに出てくる
3. **抜けもれ防止** - 全てのタスク・プロジェクトを可視化
4. **技術的複雑度の抑制** - 複雑な技術導入は避ける

---

## 📋 次世代Claude Codeへの調査依頼

### 調査テーマ
**「どのようなものにしたらこのシステムを最も理想的なものに出来るか」**

### 調査の指針
1. ユーザーの指示を主観・憶測・仮説・予測を含めずに正確に保存すること
2. 本質的な効率化（把握スピード・作業着手スピード）を追求
3. 技術的複雑度を増さない
4. ゆめスタの仕事を完全に理解する

### 調査の進め方

**重要**: 調査完了の判断はユーザーが行う

1. 調査を実施
2. 調査結果を報告
   - **何を調査したか**
   - **どれくらい調査したか**
   - **何がわかったか**
3. ユーザーの確認を得る
4. **ユーザーがOKを出して初めて100％**

**絶対に守ること**:
- 大枠はユーザーが既に指示している → その大枠はズレないこと
- 勝手に拡張しない
- 風呂敷を拡げない

### 調査項目

1. **yumesutaHPのデータベース構造調査**
   - パートナー・スターデータの格納方法
   - API連携方法
   - データ同期の実現方法

2. **実際のタスク洗い出し**
   - マネージャーが行う全ての作業の特定
   - 各作業に必要な情報・URL・ファイルパスの整理
   - 抜けもれしやすいタスクの特定

3. **ゆめマガ制作工程の実態調査**
   - 現在の進行中工程の詳細
   - 次にすべき作業が即座にわかる仕組み
   - 外部依存工程の明確化

4. **マネーフォワード連携調査**
   - API連携可否
   - 請求書発行フロー
   - 顧客管理連携

5. **HP・LLMO分析の実効性向上**
   - 狙ったキーワードの順位追跡
   - AI検索への表示状況確認
   - お問い合わせ獲得の可視化

6. **SNS投稿管理の改善**
   - 被リンク獲得状況の可視化
   - ブランディング効果の測定
   - 投稿作業の効率化

---

## 📌 Phase 1からの引き継ぎ事項

### Phase 1で完成した機能
1. ✅ 営業進捗管理（読み取り専用）
2. ✅ ゆめマガ制作進捗管理（読み取り専用）
3. ✅ パートナー・スターデータ管理（読み取り専用）
4. ✅ HP・LLMO分析管理（読み取り専用）
5. ✅ SNS投稿管理（読み取り専用）
6. ✅ タスク管理（モックデータ）

### Phase 1の技術スタック
- フロントエンド: Next.js (TypeScript) + React
- バックエンド: Next.js API Routes
- データ連携: Google Sheets API v4
- 認証: サービスアカウント（JSON key）
- デプロイ: 未定（Vercel or AWS）

### Phase 1で守った原則（Phase 2でも継続）
- ❌ 過度な最適化・複雑化は避ける
- ❌ 勝手に機能を追加しない
- ❌ 要件定義にない実装をしない
- ❌ 絵文字の使用禁止（例外: ステータス表示のみ）
- ✅ アイコンはlucide-reactのみ使用
- ✅ シンプルに・動くものを優先
- ✅ 不明点は必ずユーザーに確認
- ✅ 段階的に実装・テスト（一気に作らない）

---

## 🚀 Phase 2の開発方針

### 開発の進め方
1. **調査フェーズ**
   - 各要件について徹底的に調査
   - ユーザーの業務フローを完全に理解
   - 技術的実現可能性の確認

2. **設計フェーズ**
   - 技術的複雑度を増さない設計
   - 把握スピード・作業着手スピードを最優先
   - 抜けもれ防止の仕組み設計

3. **実装フェーズ**
   - 段階的な実装
   - 各機能ごとにテスト
   - ユーザーフィードバックを反映

4. **検証フェーズ**
   - 実際の業務フローでの検証
   - 効率化の効果測定
   - 改善点の洗い出し

---

## 📝 備考

### ドキュメント管理
- Phase 1の`development-progress.md`はそのまま参照しない
- Phase 2用の進捗管理ドキュメントを別途作成
- Phase 1の要件定義を参考にしつつ、Phase 2の要件を整理

### 次のステップ
1. Phase 2用のスタートプロンプト作成
2. Phase 2用の進捗管理ドキュメント作成
3. 調査フェーズの開始

---

**作成者**: Claude Code (2025-10-05)
**参照**: Phase 1要件定義書、Phase 1進捗管理ドキュメント
**次回更新**: Phase 2調査フェーズ完了時
