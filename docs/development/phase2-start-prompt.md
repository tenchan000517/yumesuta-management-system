# Phase 2開発 - スタートプロンプト

**作成日**: 2025-10-05
**用途**: Phase 2開発作業の開始時に使用
**前提**: Phase 1 MVP完成済み

---

## 🎯 このプロンプトの目的

次世代Claude CodeがPhase 2開発作業を開始・継続する際に、以下を即座に把握できるようにする:
1. Phase 2の目的と方針
2. Phase 1からの引き継ぎ事項
3. 開発の進め方・絶対に守るべき原則
4. 次に何をすべきか

---

## 📋 Phase 2作業開始時のプロンプト（コピペ用）

```
# 統合マネジメントシステム Phase 2開発 - 作業開始

以下のドキュメントを読んで、Phase 2開発を開始してください。

## 必読ドキュメント（優先順）
1. `/mnt/c/yumesuta-management-system/docs/development/phase2-requirements.md` - Phase 2要件定義・方針書（最重要）
2. `/mnt/c/yumesuta-management-system/docs/development/phase2-progress.md` - Phase 2開発進捗管理（現在地）
3. `/mnt/c/yumesuta-management-system/docs/requirements/requirements-definition.md` - 要件定義書（v2.0・参考）
4. `/mnt/c/yumesuta-management-system/docs/SYSTEM_OVERVIEW.md` - システム説明文書

## Phase 2の最重要目的
**「マネージャーが一人で大企業クラスの仕事・プロジェクトを管理・実行できる管理システム」を構築すること**

## 絶対に守るべき原則

### ❌ やってはいけないこと
- 良かれと思って無駄な機能を追加して複雑にする事
- リアルタイム性の導入（WebhookやWebsocket、AWS等が必要な場合、本質からズレる）
- 自動化を優先する（自動化は解決策ではない）
- むしろ把握に時間がかかる複雑化

### ✅ やるべきこと
- 「把握スピード・作業に入るまでのスピード」を最優先
  - 該当CANVAURLがすぐに出てくる
  - 該当スプレッドシートがすぐ出てくる
  - 該当作業パスがすぐに出てくる
  - 該当関連URLがすぐに出てくる
  - 該当情報がすぐに出てくる
  - 該当箇所がすぐにわかる
- ゆめスタの仕事を完全に理解すること
- マネージャーの仕事を全て完全に理解すること
- シンプルに・動くものを優先
- 技術的複雑度を増さない
- 不明点は必ずユーザーに確認
- 段階的に実装・テスト（一気に作らない）

## 🔒 調査1で確定した設計方針（必ず守ること）

Phase 2調査1の結果、以下の設計方針が確定しました。**全てのPhase 2開発で必ず遵守してください**。

### パートナー・画像管理の原則
1. **画像保存場所**: Xserver（`https://yumesuta.com/partner-images/`）の**1箇所のみ**
   - ❌ yumesutaHPの`/public/img/`に画像をコピー**しない**
   - ❌ マネジメントシステムに重複保存**しない**
   - ✅ 全システムが同じURLを参照（一貫性保証）

2. **データマスター**: Google Sheets = 唯一の真実
   - 全ての更新はGoogle Sheetsで実施
   - yumesutaHPは読み取り専用・表示のみ
   - 画像URLもGoogle Sheetsに保存

3. **同期方式**: 手動更新（スタートプロンプト実行）
   - ❌ 自動同期・リアルタイム更新は導入**しない**
   - ❌ Webhook・Websocket・AWSは不要
   - ✅ スタートプロンプトによる明示的な更新

4. **yumesutaHPの構造**: 静的TypeScriptファイル
   - ❌ API連携**しない**
   - ❌ データベース接続**しない**
   - ✅ 静的データ・ビルド時解決

### この方針が他の機能に与える影響
- **タスク管理**: 同様にGoogle Sheets = マスター、手動更新方式
- **ゆめマガ制作工程**: 同様に手動更新、リアルタイム性不要
- **全機能**: 「該当URLがすぐ出てくる」は自動化ではなく表示の工夫で実現

## 各機能の本質的な目的を理解する

### 入金管理
- キャッシュアウトしないため
- 入金してるかしてないかがわかればいいわけじゃない

### ゆめマガ制作進捗
- 納期を間に合わせ、クオリティの高い制作物を作成すること

### HP・LLMO状況
- 狙ったキーワードで上位表示させたり、狙ったAI検索に表示して「お問い合わせなどのプル営業」を増やす事・取得すること

### 営業進捗
- 営業のPDCAを回す指示を出すため

### タスク管理
- 管理だけでなく、マネージャー自身が行わなければならないタスクを行うため
- 営業が行う作業以外の全ての作業はマネージャーが行う
- 請求書の発行、顧客管理も含む

### SNS投稿
- 被リンクの獲得とブランディングの2つの側面を把握しつつ自分でも作業するため

## Phase 2の主要タスク（調査1完了後・更新版）

1. ~~パートナー・スターダッシュボード改善（yumesutaHPのDB連携）~~ → ✅ 調査1完了（静的TypeScript・手動更新方式に確定）
2. タスク管理の実装（モックから実データへ）→ 調査2で実態調査中
3. ゆめマガ進行中工程の改善 → 調査3で実施予定
4. マネーフォワード連携の調査・実装検討 → 調査4で実施予定
5. 各機能の「該当URL・パス・情報がすぐに出てくる」仕組み構築

**⚠️ 重要**: phase2-progress.mdを読んで、次のタスクを確認してください。
**特に「🔒 確定した設計方針」セクションを必ず確認すること**。
```

---

## 📂 Phase 2プロジェクト構造

```
C:\yumesuta-management-system\
├── docs/
│   ├── development/
│   │   ├── phase2-start-prompt.md               # このファイル
│   │   ├── phase2-requirements.md               # Phase 2要件定義・方針書
│   │   ├── phase2-progress.md                   # Phase 2開発進捗管理（作成予定）
│   │   ├── START_PROMPT.md                      # Phase 1スタートプロンプト（参考）
│   │   ├── development-progress.md              # Phase 1開発進捗管理（参考）
│   │   └── handover/                            # 引き継ぎ書格納フォルダ
│   ├── requirements/
│   │   ├── requirements-definition.md           # 要件定義書（v2.0）
│   │   └── investigations/                      # 調査結果
│   │       ├── yumesuta-hp-database.md          # yumesutaHPデータベース調査（作成予定）
│   │       ├── task-analysis.md                 # タスク分析（作成予定）
│   │       └── moneyforward-integration.md      # マネーフォワード連携調査（作成予定）
│   ├── SYSTEM_OVERVIEW.md                       # システム説明文書
│   └── business-strategy-memo.md                # ビジネス戦略メモ
├── app/
│   ├── page.tsx                                 # 統合ダッシュボード（Phase 1完成）
│   ├── dashboard/
│   │   ├── sales/                               # 営業進捗管理画面
│   │   ├── yumemaga/                            # ゆめマガ制作進捗管理画面
│   │   ├── partners/                            # パートナー・スターデータ
│   │   ├── analytics/                           # HP・LLMO分析管理
│   │   ├── sns/                                 # SNS投稿管理
│   │   └── tasks/                               # タスク管理
│   └── api/
│       ├── sales-kpi/                           # 営業KPI取得API
│       ├── process-schedule/                    # 工程スケジュール取得API
│       ├── partners/                            # パートナー・スターデータ取得API
│       ├── analytics/                           # 分析データ取得API
│       ├── sns/                                 # SNS投稿データ取得API
│       └── tasks/                               # タスクデータ取得API
├── lib/
│   ├── google-sheets.ts                         # Google Sheets API連携
│   ├── google-analytics.ts                      # Google Analytics連携
│   ├── search-console.ts                        # Search Console連携
│   └── microsoft-clarity.ts                     # Microsoft Clarity連携
├── types/
│   ├── sales.ts                                 # 営業KPI・メトリクス型定義
│   ├── process.ts                               # 工程・ガントチャート型定義
│   ├── partner.ts                               # パートナー・スター型定義
│   ├── analytics.ts                             # 分析データ型定義
│   ├── sns.ts                                   # SNS投稿型定義
│   └── task.ts                                  # タスク型定義
└── .env.local                                   # 環境変数
```

---

## 🔄 Phase 2開発フロー

### Step 1: 調査フェーズ（1-2週間）
- [x] yumesutaHPのデータベース構造調査 ✅ 完了（2025-10-05）
- [ ] 実際のタスク洗い出し（マネージャーが行う全作業）← 次のタスク
- [ ] ゆめマガ制作工程の実態調査
- [ ] マネーフォワード連携調査
- [ ] HP・LLMO分析の実効性向上調査
- [ ] SNS投稿管理の改善調査

### Step 2: 設計フェーズ（1週間）
- [x] ~~パートナー・スターDB連携設計~~ → 不要（静的TypeScript・手動更新方式に確定）
- [ ] タスク管理システム設計
- [ ] ゆめマガ進行中工程表示設計
- [ ] 「該当URL・パス・情報がすぐに出てくる」仕組み設計
- [ ] 技術的複雑度の確認

### Step 3: 実装フェーズ（2-3週間）
- [x] ~~パートナー・スターDB連携実装~~ → 不要（スタートプロンプト方式で実現）
- [ ] タスク管理実装
- [ ] ゆめマガ進行中工程改善実装
- [ ] 各機能の「すぐに出てくる」仕組み実装
- [ ] マネーフォワード連携実装（可能な場合）

### Step 4: 検証フェーズ（1週間）
- [ ] 実際の業務フローでの検証
- [ ] 効率化の効果測定
- [ ] ユーザーフィードバック収集
- [ ] 改善点の洗い出し
- [ ] Phase 2完成

---

## 🎯 Phase 2開発優先順位

### 最優先（Week 1-2）
1. **調査フェーズの完了**
   - ~~yumesutaHPのDB構造完全理解~~ ✅ 完了（調査1）
   - マネージャーの全作業の洗い出し ← 次のタスク（調査2）

### 優先（Week 3-4）
2. **タスク管理の実装**
   - 抜けもれ防止が最重要
3. ~~**パートナー・スターDB連携**~~ → 完了（スタートプロンプト方式で実現）

### 通常（Week 5-6）
4. **ゆめマガ進行中工程改善**
5. **各機能の「すぐに出てくる」仕組み**

---

## ⚠️ Phase 2での重要な注意事項

### 効率化の本質を見失わない
- 自動化 ≠ 効率化
- 把握スピード・作業着手スピード = 効率化

### 技術的複雑度を増さない
- Webhook、Websocket、AWS等の導入は慎重に
- 超絶簡単に導入できる場合のみ検討

### 抜けもれ防止を最優先
- やることが多いと抜けもれしがち
- システムで抜けもれを防ぐ

---

## 📊 Phase 1からの引き継ぎ

### Phase 1で完成した機能
1. ✅ 営業進捗管理（読み取り専用）
2. ✅ ゆめマガ制作進捗管理（読み取り専用）
3. ✅ パートナー・スターデータ管理（読み取り専用・Google Sheets連携）
4. ✅ HP・LLMO分析管理（読み取り専用）
5. ✅ SNS投稿管理（読み取り専用）
6. ✅ タスク管理（モックデータ）
7. ✅ 統合ダッシュボード（トップページ）

### Phase 1の技術スタック（継続）
- フロントエンド: Next.js (TypeScript) + React
- バックエンド: Next.js API Routes
- データ連携: Google Sheets API v4
- 認証: サービスアカウント（JSON key）

### Phase 1で守った原則（Phase 2でも継続）
- ❌ 過度な最適化・複雑化は避ける
- ❌ 勝手に機能を追加しない
- ❌ 要件定義にない実装をしない
- ❌ 絵文字の使用禁止（例外: ステータス表示のみ）
- ✅ アイコンはlucide-reactのみ使用
- ✅ シンプルに・動くものを優先
- ✅ 不明点は必ずユーザーに確認
- ✅ 段階的に実装・テスト（一気に作らない）

---

## 💡 次世代Claude Codeへ

このスタートプロンプトを使って、Phase 2開発作業を開始してください。

**最重要**:
1. **phase2-requirements.mdを必ず確認** - Phase 2の方針を理解
2. **ゆめスタの仕事を完全に理解する** - これが最優先
3. **把握スピード・作業着手スピードを最優先** - 自動化ではない
4. **技術的複雑度を増さない** - シンプルに

頑張ってください。

---

**作成者**: Claude Code (2025-10-05)
**最終更新**: 2025-10-05（調査1完了・確定した設計方針を追記）
**レビュー**: Phase 2開発開始前に必読
**更新**: Phase 2開発進捗に応じて更新
