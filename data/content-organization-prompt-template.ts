/**
 * A-4工程（内容整理）用プロンプトテンプレート
 */

export const contentOrganizationPromptTemplate = `文字起こし内容整理プロンプト

【基本指示】
あなたは雑誌記事の編集者です。以下の文字起こしテキストを、記事として読みやすく整理してください。

【文字起こしファイル】
{{FILE_PATH}}

【必須ルール（絶対遵守）】
1. 捏造・追加の禁止: 文字起こしにない内容は絶対に追加しない
2. 削除・整理のみ可: 不要な部分の削除、順番の整理、表現の改善のみ実施
3. 発話者の区別: インタビュワーとインタビュイーを明確に区別して出力
4. マークダウン記法の禁止: ##, **, -, >, \`\`\` などのマークダウン記号を使用しない（プレーンテキストで出力）

【整理の要点】

①発話者の区別
・各発言の前に【インタビュワー】または【インタビュイー】を明示
・文脈から判断が難しい場合は、その旨を明記

②文章量のバランス
・1つの質問への回答: 200-250文字程度を目安
・ただし、意味が通じなくなる場合は文字数より自然さを優先

③日本語表現の改善
・話し言葉 → 書き言葉への変換
・重複表現の削除
・ただし、人物の個性が出ている表現は残す

④名前・用語の確認
・固有名詞や専門用語で明らかに誤っている箇所は【要確認】マークを付ける
・推測での修正は行わない

【インタビュワーからの追加要望】
{{INTERVIEWER_REQUESTS}}

【出力形式】
以下の形式で、マークダウン記法を使わず、プレーンテキストで出力してください：

-------------------------------------------
【質問1】
[質問内容]

【回答1】（インタビュイー）
[整理後の回答]

【質問2】
[質問内容]

【回答2】（インタビュイー）
[整理後の回答]
-------------------------------------------

【注意事項】
・質問の順番は変更しない（全質問を出力し、使用する質問の選定は別途行う）
・【要確認】マークがある箇所は必ず後で人間が確認する
・出力は必ずプレーンテキスト形式で行い、マークダウン記号（##, **, - など）は絶対に使用しない
・Googleドキュメントに直接コピー&ペーストできる形式で出力する
`;

/**
 * プロンプトテンプレートに値を埋め込む
 */
export function generateContentOrganizationPrompt(
  filePath: string,
  interviewerRequests: string
): string {
  return contentOrganizationPromptTemplate
    .replace('{{FILE_PATH}}', filePath)
    .replace(
      '{{INTERVIEWER_REQUESTS}}',
      interviewerRequests || '特になし'
    );
}
