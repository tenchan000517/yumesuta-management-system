/**
 * A-4工程（内容整理）用プロンプトテンプレート
 */

export const contentOrganizationPromptTemplate = `文字起こし内容整理プロンプト

【基本指示】
あなたは雑誌記事の編集者です。以下の文字起こしテキストを、記事として読みやすく整理してください。

【文字起こしファイル】
{{FILE_PATH}}

【必須ルール（絶対遵守）】
1. 捏造・追加の禁止: 文字起こしにない内容は絶対に追加しない
2. 削除・整理のみ可: 不要な部分の削除、順番の整理、表現の改善のみ実施
3. 発話者の区別: インタビュワーとインタビュイーを明確に区別して出力
4. マークダウン記法の禁止: ##, **, -, >, \`\`\` などのマークダウン記号を使用しない（プレーンテキストで出力）

【整理の要点】

①発話者の区別
・各質問の前に「Q.」を明示
・各回答の前に「A.」を明示
・文脈から判断が難しい場合は、その旨を明記

②文章量のバランス
・1つの質問への回答: 200-250文字程度を目安
・ただし、意味が通じなくなる場合は文字数より自然さを優先

③日本語表現の改善
・話し言葉 → 書き言葉への変換
・重複表現の削除
・ただし、人物の個性が出ている表現は残す

④名前・用語の確認
・固有名詞や専門用語で明らかに誤っている箇所は【要確認】マークを付ける
・推測での修正は行わない

【インタビュワーからの追加要望】
{{INTERVIEWER_REQUESTS}}

【出力形式】
以下の形式で、マークダウン記法を使わず、プレーンテキストで出力してください：

-------------------------------------------
Q. [質問内容]

A. [整理後の回答]

Q. [質問内容]

A. [整理後の回答]

（以下同様に続く）
-------------------------------------------

【注意事項】
・質問の順番は変更しない（全質問を出力し、使用する質問の選定は別途行う）
・【要確認】マークがある箇所は必ず後で人間が確認する
・出力は必ずプレーンテキスト形式で行い、マークダウン記号（##, **, - など）は絶対に使用しない
・Googleドキュメントに直接コピー&ペーストできる形式で出力する
`;

/**
 * プロンプトテンプレートに値を埋め込む
 */
export function generateContentOrganizationPrompt(
  filePath: string,
  interviewerRequests: string
): string {
  return contentOrganizationPromptTemplate
    .replace('{{FILE_PATH}}', filePath)
    .replace(
      '{{INTERVIEWER_REQUESTS}}',
      interviewerRequests || '特になし'
    );
}

/**
 * 人物概要作成プロンプトテンプレート
 */
export const profileSummaryPromptTemplate = `人物概要作成プロンプト

【基本指示】
あなたは雑誌編集者です。以下の整理済みインタビュー内容をもとに、レジェンド/STARページ用の人物概要を作成してください。

【入力情報】
{{ORGANIZED_INTERVIEW}}

【必須ルール（絶対遵守）】
1. 捏造・追加の禁止: インタビュー内容にない情報は絶対に追加しない
2. マークダウン記法の禁止: ##, **, -, >, \`\`\` などは使用しない（プレーンテキストで出力）
3. 事実に基づく: インタビューで語られた内容のみを使用

【作成する概要の種類】

①キャッチコピー（20-30文字）
・人物の核心を一言で表現
・高校生の心に響く、力強い表現
・例：「〇〇から〇〇へ。挑戦し続ける〇〇のパイオニア」

②リード文（240-260文字）
・記事の導入として、読者の興味を引く
・人物の最も魅力的な要素を凝縮
・現在の活動と人物像の核心を伝える
・具体的なエピソードや数字を入れて臨場感を出す
・印象的な発言を引用して、人物の個性を伝える
・最後は記事への期待を高める一文で締める

③プロフィール（190-210文字）
・経歴の要点を簡潔に（学歴→キャリア→現在）
・現在の主な活動
・人物の哲学・モットー
・冗長な表現は避け、インパクトのある情報に絞る
・最後は人物像を象徴する一文で締める

【トーン】
・レジェンド/STARページにふさわしい格調と尊敬の念
・ただし堅苦しすぎず、親しみやすさも保つ
・高校生が「この人に会ってみたい」と思える表現

【出力形式】
以下の形式で、プレーンテキストで出力：

-------------------------------------------
【キャッチコピー】
[20-30文字]

【リード文】
[240-260文字]

【プロフィール】
[190-210文字]
-------------------------------------------

【注意事項】
・インタビューで強調されていたモットーや哲学を反映
・高校生へのメッセージ性を重視
・数字（年齢、年数、実績など）は効果的に使用
・Googleドキュメントに直接コピー&ペーストできる形式
・リード文とプロフィールで同じ情報を繰り返さない（役割分担を明確に）
・【要確認】マークがある用語はそのまま使用してよい

【バランスのポイント】
・リード文：読者を引き込む「物語」として、印象的なエピソードや発言の引用を含める
・プロフィール：事実を簡潔に列挙する「履歴書+哲学」として、要点のみに絞る
`;

/**
 * 人物概要作成プロンプトに値を埋め込む
 */
export function generateProfileSummaryPrompt(
  organizedInterview: string
): string {
  return profileSummaryPromptTemplate.replace(
    '{{ORGANIZED_INTERVIEW}}',
    organizedInterview
  );
}
